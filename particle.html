<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Hello World</title>
    <script
            src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.0.4/pixi.min.js"
            integrity="sha512-UQMlkbatDPsiH7tXKzfeZaPbR/TB1ThUOD6cjqmWPyKhdBl5jHiCVpSrfl+8n3KfEDhnhPhA+/8joiYpTHeC6w=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    ></script>
    <script src="particle-emitter.js"></script>
</head>

<body>
<canvas id="canvas"></canvas>
</body>

<script>
    const { Container, ParticleContainer, Renderer, Ticker } = PIXI;
    const canvas = document.getElementById('canvas');
    const renderer = new Renderer({
        view: canvas,
        width: 600,
        height: 400,
    });
    const stage = new Container();
    const cnt = new ParticleContainer();
    stage.addChild(cnt);
    const ticker = new Ticker();
    let elapsed = 0;
    ticker.add(() => renderer.render(stage));
    ticker.start();

    const emitter = new PIXI.particles.Emitter(cnt,
        /*{
            "alpha": {
                "start": 1,
                "end": 0.22
            },
            "scale": {
                "start": 0.25,
                "end": 0.5,
                "minimumScaleMultiplier": 0.5
            },
            "color": {
                "start": "#ffffff",
                "end": "#ffffff"
            },
            "speed": {
                "start": 200,
                "end": 200,
                "minimumSpeedMultiplier": 1
            },
            "acceleration": {
                "x": 0,
                "y": 0
            },
            "maxSpeed": 0,
            "startRotation": {
                "min": 260,
                "max": 280
            },
            "noRotation": false,
            "rotationSpeed": {
                "min": 0,
                "max": 50
            },
            "lifetime": {
                "min": 3.5,
                "max": 4
            },
            "blendMode": "normal",
            "frequency": 0.016,
            "emitterLifetime": -1,
            "maxParticles": 500,
            "pos": {
                "x": 0,
                "y": 0
            },
            "addAtBack": false,
            "spawnType": "rect",
            "spawnRect": {
                "x": -450,
                "y": 200,
                "w": 900,
                "h": 0
            }
        }*/{
        lifetime: { min: 0.1, max: 3 },
        frequency: 1,
        spawnChance: 1,
        particlesPerWave: 1,
        emitterLifetime: 120,
        maxParticles: 10,
        pos: { x: 327, y: 200 },
        autoUpdate: true,
        behaviors: [
            {
                type: 'spawnShape',
                config: { type: 'torus', data: { x: 0, y: 0, radius: 100 } },
            },
            { type: 'textureSingle', config: { texture: PIXI.Texture.WHITE } },
        ],
    });
</script>
</html>